scoreboard players set $ingredient_count prep_display 0
execute unless entity @s[nbt={SelectedItemSlot:8}] anchored eyes positioned ^ ^ ^1.75 as @e[type=marker,tag=prep_display,distance=..1.25,sort=nearest,limit=1,tag=!start_closing] unless entity @e[type=armor_stand,tag=bell,distance=..15,tag=bell_pressed] store result score $ingredient_count prep_display if entity @e[type=item_display,tag=prep_slot,distance=..100]
execute unless entity @s[nbt={SelectedItemSlot:8}] anchored eyes positioned ^ ^ ^1.75 positioned ~0.3125 ~-0.77 ~0.375 if entity @e[type=item_display,tag=prep_slot,distance=..1] positioned ~0.3125 ~-0.77 ~0.375 as @e[type=marker,tag=prep_display,sort=nearest,limit=1,tag=!start_closing,distance=..500] unless entity @e[type=armor_stand,tag=bell,distance=..15,tag=bell_pressed] store result score $ingredient_count prep_display if entity @e[type=item_display,tag=prep_slot,distance=..100]
execute unless entity @s[nbt={SelectedItemSlot:8}] anchored eyes positioned ^ ^ ^1.75 as @e[type=marker,tag=prep_display,distance=..1.25,sort=nearest,limit=1,tag=!start_closing] unless entity @e[type=armor_stand,tag=bell,distance=..15,tag=bell_pressed] if score $ingredient_count prep_display matches 0 run scoreboard players set $ingredient_count prep_display 1
execute if score $ingredient_count prep_display matches 1.. run scoreboard players operation $time prep_display = $ingredient_count prep_display
execute if score $ingredient_count prep_display matches 1.. run scoreboard players operation $time prep_display *= $3 number
execute if score $ingredient_count prep_display matches 1.. as @e[type=marker,tag=prep_display,distance=..10,sort=nearest,limit=1,tag=!start_closing] unless score @s prep_display matches -1 unless entity @e[type=armor_stand,tag=bell,distance=..15,tag=bell_pressed] run scoreboard players operation @s prep_display = $time prep_display