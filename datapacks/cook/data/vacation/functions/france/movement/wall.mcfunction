# Wall Climb
execute as @s[scores={paris_stamina=1..,paris_sneaking=0}] at @s positioned ~ ~1 ~ unless block ^ ^ ^1 air if block ~ ~-1.1 ~ air run effect give @s slow_falling 3 2 true
execute as @e[tag=paris_climbing,scores={paris_age=5..}] at @s run tp @s ~ ~-500 ~
execute as @s[scores={paris_stamina=1..,paris_sneaking=1..}] at @s positioned ~ ~1 ~ unless block ^ ^ ^1 air if block ~ ~-1.1 ~ air run summon minecraft:area_effect_cloud ~ ~-2.4 ~ {NoGravity:1b,Passengers:[{id:"minecraft:shulker",Color:3,Silent:1b,Tags:["paris_climbing"],NoAI:1b}],Tags:["paris_climbing"],Age:-2147483648,Duration:-1,WaitTime:-2147483648}
execute as @s[scores={paris_stamina=1..39}] at @s if block ~ ~-.1 ~ air positioned ~ ~-1 ~ if entity @e[type=shulker,tag=paris_climbing,distance=..2] unless entity @e[type=shulker,tag=paris_wall_run,distance=..2] run effect give @s jump_boost 1 4 true
execute as @s[scores={paris_stamina=1..39,paris_sneaking=1..}] at @s if block ~ ~-.1 ~ air run effect give @s slow_falling 1 0 true
execute as @s[scores={paris_stamina=1..39,paris_wall_jump=1..}] at @s run scoreboard players remove @s paris_stamina 10
execute as @s[scores={paris_stamina=1..,paris_sneaking=1..}] at @s positioned ~ ~1 ~ unless block ^ ^ ^1 air if block ~ ~-1.1 ~ air run scoreboard players remove @s paris_stamina 1
execute unless score @s paris_stamina matches 40 unless block ~ ~-1 ~ air run scoreboard players set @s paris_stamina 40
execute as @s[scores={paris_sneaking=0}] at @s positioned ~ ~1 ~ if block ^ ^ ^1 air if block ^1 ^ ^1 air if block ^-1 ^ ^1 air run effect clear @s minecraft:slow_falling

# Wall Run
execute as @s[scores={paris_stamina=1..,paris_sneaking=0}] at @s positioned ~ ~1 ~ if block ^1 ^ ^1 minecraft:andesite if block ~ ~-1.1 ~ air if block ~ ~-2.1 ~ air positioned ^ ^ ^1.5 run summon minecraft:area_effect_cloud ~ ~-2.25 ~ {NoGravity:1b,Passengers:[{id:"minecraft:shulker",Color:3,Silent:1b,Tags:["paris_climbing","paris_wall_run"],NoAI:1b,ActiveEffects:[{Id:11,Amplifier:100b,Duration:1000000,ShowParticles:0b}]}],Tags:["paris_climbing"],Age:-2147483648,Duration:-1,WaitTime:-2147483648}
execute as @s[scores={paris_stamina=1..,paris_sneaking=0}] at @s positioned ~ ~1 ~ if block ^-1 ^ ^1 minecraft:andesite if block ~ ~-1.1 ~ air if block ~ ~-2.1 ~ air positioned ^ ^ ^1.5 run summon minecraft:area_effect_cloud ~ ~-2.25 ~ {NoGravity:1b,Passengers:[{id:"minecraft:shulker",Color:3,Silent:1b,Tags:["paris_climbing","paris_wall_run"],NoAI:1b,ActiveEffects:[{Id:11,Amplifier:100b,Duration:1000000,ShowParticles:0b}]}],Tags:["paris_climbing"],Age:-2147483648,Duration:-1,WaitTime:-2147483648}
execute as @s[scores={paris_stamina=1..,paris_sneaking=0}] at @s positioned ~ ~1 ~ if block ^1 ^ ^1 minecraft:andesite if block ~ ~-1.1 ~ air if block ~ ~-2.1 ~ air positioned ~ ~-1 ~ if entity @e[type=shulker,tag=paris_wall_run,distance=..2] run scoreboard players remove @s paris_stamina 2
execute as @s[scores={paris_stamina=1..,paris_sneaking=0}] at @s positioned ~ ~1 ~ if block ^-1 ^ ^1 minecraft:andesite if block ~ ~-1.1 ~ air if block ~ ~-2.1 ~ air positioned ~ ~-1 ~ if entity @e[type=shulker,tag=paris_wall_run,distance=..2] run scoreboard players remove @s paris_stamina 2